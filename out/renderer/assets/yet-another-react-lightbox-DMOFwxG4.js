import{r as e}from"./react-BohqOKG4.js";import{r as t}from"./react-dom-DeCT9Zg9.js";const n="carousel",r="controller",o="portal",i="toolbar",l="loading",c="error",a="complete",u="flex_center",s="no_scroll_padding",d="slide",f="prev",v="next",m="swipe",h="close",p="onPointerDown",g="onPointerMove",b="onPointerUp",E="onPointerLeave",x="onPointerCancel",y="onKeyDown",w="onWheel",C="icon",P="contain",N="cover",M="yarl__";function L(...e){return[...e].filter(Boolean).join(" ")}function S(e){return`${M}${e}`}function R(e){return`--${M}${e}`}function k(e,t){return`${e}${t?`_${t}`:""}`}function I(e){return t=>k(e,t)}function W(e,t){var n;return null!==(n=null==e?void 0:e[t])&&void 0!==n?n:t}function $(e,t,n){return W(e,"{index} of {total}").replace(/\{index}/g,`${X(n,t.length)+1}`).replace(/\{total}/g,`${t.length}`)}function D(...e){return()=>{e.forEach(e=>{e()})}}function O(t,n,r){return()=>{const o=e.useContext(r);if(!o)throw new Error(`${t} must be used within a ${n}.Provider`);return o}}function T(){return"undefined"!=typeof window}function _(e){return void 0===e.type||"image"===e.type}function A(e){return"string"==typeof e?Number.parseInt(e,10):e}function F(e){if("number"==typeof e)return{pixel:e};if("string"==typeof e){const t=A(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function U(e,t){const n=F(t),r=void 0!==n.percent?e.width/100*n.percent:n.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}function X(e,t){return t>0?(e%t+t)%t:0}function B(e){return e.length>0}function z(e,t){return e[X(t,e.length)]}function H(e,t){return B(e)?z(e,t):void 0}function Y(e){return _(e)?e.src:void 0}const j=Number(e.version.split(".")[0])>=19;const K={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[h]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:P,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function V(e,t){return{name:e,component:t}}function q(e,t){return{module:e,children:t}}function G(e,t,n){return e.module.name===t?n(e):e.children?[q(e.module,e.children.flatMap(e=>{var r;return null!==(r=G(e,t,n))&&void 0!==r?r:[]}))]:[e]}function J(e,t,n){return e.flatMap(e=>{var r;return null!==(r=G(e,t,n))&&void 0!==r?r:[]})}const Q=e.createContext(null),Z=O("useA11yContext","A11yContext",Q);function ee({children:t}){const[n,r]=e.useState(!1),[o,i]=e.useState(!1),l=e.useMemo(()=>({focusWithin:n,trackFocusWithin:(e,t)=>{const n=n=>o=>{var i;o.currentTarget.contains(o.relatedTarget)||r(n),null===(i=n?e:t)||void 0===i||i(o)};return{onFocus:n(!0),onBlur:n(!1)}},autoPlaying:o,setAutoPlaying:i}),[n,o]);return e.createElement(Q.Provider,{value:l},t)}const te=e.createContext(null),ne=O("useDocument","DocumentContext",te);function re({nodeRef:t,children:n}){const r=e.useMemo(()=>{const e=e=>{var n;return(null===(n=e||t.current)||void 0===n?void 0:n.ownerDocument)||document};return{getOwnerDocument:e,getOwnerWindow:t=>{var n;return(null===(n=e(t))||void 0===n?void 0:n.defaultView)||window}}},[t]);return e.createElement(te.Provider,{value:r},n)}const oe=e.createContext(null),ie=O("useEvents","EventsContext",oe);function le({children:t}){const[n]=e.useState({});e.useEffect(()=>()=>{Object.keys(n).forEach(e=>delete n[e])},[n]);const r=e.useMemo(()=>{const e=(e,t)=>{var r;null===(r=n[e])||void 0===r||r.splice(0,n[e].length,...n[e].filter(e=>e!==t))};return{publish:(...[e,t])=>{var r;null===(r=n[e])||void 0===r||r.forEach(e=>e(t))},subscribe:(t,r)=>(n[t]||(n[t]=[]),n[t].push(r),()=>e(t,r)),unsubscribe:e}},[n]);return e.createElement(oe.Provider,{value:r},t)}const ce=e.createContext(null),ae=O("useLightboxProps","LightboxPropsContext",ce);function ue({children:t,...n}){return e.createElement(ce.Provider,{value:n},t)}const se=e.createContext(null),de=O("useLightboxState","LightboxStateContext",se),fe=e.createContext(null),ve=O("useLightboxDispatch","LightboxDispatchContext",fe);function me(e,t){switch(t.type){case"swipe":{const{slides:n}=e,r=(null==t?void 0:t.increment)||0,o=e.globalIndex+r,i=X(o,n.length);return{slides:n,currentIndex:i,globalIndex:o,currentSlide:H(n,i),animation:r||void 0!==t.duration?{increment:r,duration:t.duration,easing:t.easing}:void 0}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:H(t.slides,t.index)}:e;default:throw new Error("Unknown action type")}}function he({slides:t,index:n,children:r}){const[o,i]=e.useReducer(me,{slides:t,currentIndex:n,globalIndex:n,currentSlide:H(t,n)});e.useEffect(()=>{i({type:"update",slides:t,index:n})},[t,n]);const l=e.useMemo(()=>({...o,state:o,dispatch:i}),[o,i]);return e.createElement(fe.Provider,{value:i},e.createElement(se.Provider,{value:l},r))}const pe=e.createContext(null),ge=O("useTimeouts","TimeoutsContext",pe);function be({children:t}){const[n]=e.useState([]);e.useEffect(()=>()=>{n.forEach(e=>window.clearTimeout(e)),n.splice(0,n.length)},[n]);const r=e.useMemo(()=>{const e=e=>{n.splice(0,n.length,...n.filter(t=>t!==e))};return{setTimeout:(t,r)=>{const o=window.setTimeout(()=>{e(o),t()},r);return n.push(o),o},clearTimeout:t=>{void 0!==t&&(e(t),window.clearTimeout(t))}}},[n]);return e.createElement(pe.Provider,{value:r},t)}const Ee=e.forwardRef(function({label:t,className:n,icon:r,renderIcon:o,onClick:i,style:l,...c},a){const{styles:u,labels:s}=ae(),d=W(s,t);return e.createElement("button",{ref:a,type:"button",title:d,"aria-label":d,className:L(S("button"),n),onClick:i,style:{...l,...u.button},...c},o?o():e.createElement(r,{className:S(C),style:u.icon}))});function xe(t,n){return function(t,n){const r=t=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...t},n);return r.displayName=t,r}(t,e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n))}const ye=xe("Close",e.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),we=xe("Previous",e.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Ce=xe("Next",e.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Pe=xe("Loading",e.createElement(e.Fragment,null,Array.from({length:8}).map((t,n,r)=>e.createElement("line",{key:n,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/r.length*(n+1),transform:`rotate(${360/r.length*n}, 12, 12)`})))),Ne=xe("Error",e.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),Me=T()?e.useLayoutEffect:e.useEffect;function Le(){const[t,n]=e.useState(!1);return e.useEffect(()=>{var e,t;const r=null===(e=window.matchMedia)||void 0===e?void 0:e.call(window,"(prefers-reduced-motion: reduce)");n(null==r?void 0:r.matches);const o=e=>n(e.matches);return null===(t=null==r?void 0:r.addEventListener)||void 0===t||t.call(r,"change",o),()=>{var e;return null===(e=null==r?void 0:r.removeEventListener)||void 0===e?void 0:e.call(r,"change",o)}},[]),t}function Se(t,n){const r=e.useRef(void 0),o=e.useRef(void 0),i=Le();return Me(()=>{var e,l,c;if(t.current&&void 0!==r.current&&!i){const{keyframes:i,duration:u,easing:s,onfinish:d}=n(r.current,t.current.getBoundingClientRect(),function(e){let t=0,n=0,r=0;const o=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(o){const e=o[1].split(",").map(A);6===e.length?(t=e[4],n=e[5]):16===e.length&&(t=e[12],n=e[13],r=e[14])}return{x:t,y:n,z:r}}(t.current))||{};if(i&&u){null===(e=o.current)||void 0===e||e.cancel(),o.current=void 0;try{o.current=null===(c=(l=t.current).animate)||void 0===c?void 0:c.call(l,i,{duration:u,easing:s})}catch(a){console.error(a)}o.current&&(o.current.onfinish=()=>{o.current=void 0,null==d||d()})}}r.current=void 0}),{prepareAnimation:e=>{r.current=e},isAnimationPlaying:()=>{var e;return"running"===(null===(e=o.current)||void 0===e?void 0:e.playState)}}}function Re(){const t=e.useRef(null),n=e.useRef(void 0),[r,o]=e.useState();return{setContainerRef:e.useCallback(e=>{t.current=e,n.current&&(n.current.disconnect(),n.current=void 0);const r=()=>{if(e){const t=window.getComputedStyle(e),n=e=>parseFloat(e)||0;o({width:Math.round(e.clientWidth-n(t.paddingLeft)-n(t.paddingRight)),height:Math.round(e.clientHeight-n(t.paddingTop)-n(t.paddingBottom))})}else o(void 0)};r(),e&&"undefined"!=typeof ResizeObserver&&(n.current=new ResizeObserver(r),n.current.observe(e))},[]),containerRef:t,containerRect:r}}function ke(){const t=e.useRef(void 0),{setTimeout:n,clearTimeout:r}=ge();return e.useCallback((e,o)=>{r(t.current),t.current=n(e,o>0?o:0)},[n,r])}function Ie(t){const n=e.useRef(t);return Me(()=>{n.current=t}),e.useCallback((...e)=>{var t;return null===(t=n.current)||void 0===t?void 0:t.call(n,...e)},[])}function We(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function $e(t,n){return e.useMemo(()=>null==t&&null==n?null:e=>{We(t,e),We(n,e)},[t,n])}function De(t,n=!1){const r=e.useRef(!1);Me(()=>{n&&r.current&&(r.current=!1,t())},[n,t]);return{onFocus:e.useCallback(()=>{r.current=!0},[]),onBlur:e.useCallback(()=>{r.current=!1},[])}}function Oe(){const[t,n]=e.useState(!1);return Me(()=>{n("rtl"===window.getComputedStyle(window.document.documentElement).direction)},[]),t}function Te(t,n){const r=e.useRef(0),o=ke(),i=Ie((...e)=>{r.current=Date.now(),t(e)});return e.useCallback((...e)=>{o(()=>{i(e)},n-(Date.now()-r.current))},[n,i,o])}const _e=I("slide"),Ae=I("slide_image");function Fe({slide:t,offset:n,render:r,rect:o,imageFit:i,imageProps:u,onClick:s,onLoad:d,onError:f,style:v}){var m,h,p,g,b,E,x,y;const[w,M]=e.useState(l),{publish:R}=ie(),{setTimeout:k}=ge(),I=e.useRef(null);e.useEffect(()=>{0===n&&R((e=>`active-slide-${e}`)(w))},[n,w,R]);const W=Ie(e=>{("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{e.parentNode&&(M(a),k(()=>{null==d||d(e)},0))})}),$=e.useCallback(e=>{I.current=e,(null==e?void 0:e.complete)&&W(e)},[W]),D=e.useCallback(e=>{W(e.currentTarget)},[W]),O=Ie(()=>{M(c),null==f||f()}),_=function(e,t){return e.imageFit===N||e.imageFit!==P&&t===N}(t,i),A=(e,t)=>Number.isFinite(e)?e:t,F=A(Math.max(...(null!==(h=null===(m=t.srcSet)||void 0===m?void 0:m.map(e=>e.width))&&void 0!==h?h:[]).concat(t.width?[t.width]:[]).filter(Boolean)),(null===(p=I.current)||void 0===p?void 0:p.naturalWidth)||0),U=A(Math.max(...(null!==(b=null===(g=t.srcSet)||void 0===g?void 0:g.map(e=>e.height))&&void 0!==b?b:[]).concat(t.height?[t.height]:[]).filter(Boolean)),(null===(E=I.current)||void 0===E?void 0:E.naturalHeight)||0),X=F&&U?{maxWidth:`min(${F}px, 100%)`,maxHeight:`min(${U}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},B=null===(x=t.srcSet)||void 0===x?void 0:x.sort((e,t)=>e.width-t.width).map(e=>`${e.src} ${e.width}w`).join(", "),z=B&&o&&T()?`${Math.round(Math.min(o&&!_&&t.width&&t.height?o.height/t.height*t.width:Number.MAX_VALUE,o.width))}px`:void 0,{style:H,className:Y,...j}=u||{};return e.createElement(e.Fragment,null,e.createElement("img",{ref:$,onLoad:D,onError:O,onClick:s,draggable:!1,className:L(S(Ae()),_&&S(Ae("cover")),w!==a&&S(Ae("loading")),Y),style:{...X,...v,...H},...j,alt:null!==(y=t.alt)&&void 0!==y?y:"",sizes:z,srcSet:B,src:t.src}),w!==a&&e.createElement("div",{className:S(_e("placeholder"))},w===l&&((null==r?void 0:r.iconLoading)?r.iconLoading():e.createElement(Pe,{className:L(S(C),S(_e(l)))})),w===c&&((null==r?void 0:r.iconError)?r.iconError():e.createElement(Ne,{className:L(S(C),S(_e(c)))}))))}const Ue=e.forwardRef(function({className:t,children:n,onFocus:r,onBlur:o,...i},l){const c=e.useRef(null),{trackFocusWithin:a}=Z();return e.createElement(re,{nodeRef:c},e.createElement("div",{ref:$e(l,c),className:L(S("root"),t),...a(r,o),...i},n))});var Xe,Be,ze,He;(Be=Xe||(Xe={}))[Be.NONE=0]="NONE",Be[Be.SWIPE=1]="SWIPE",Be[Be.PULL=2]="PULL",Be[Be.ANIMATION=3]="ANIMATION",(He=ze||(ze={}))[He.NONE=0]="NONE",He[He.SWIPE=1]="SWIPE",He[He.PULL=2]="PULL";function Ye({disableSwipeNavigation:t,closeOnBackdropClick:n},r,o,i,l,c,a,u,s,f,v,m,h,y,w,C){const P=e.useRef(0),N=e.useRef([]),M=e.useRef(void 0),L=e.useRef(0),R=e.useRef(ze.NONE),k=e.useCallback(e=>{M.current===e.pointerId&&(M.current=void 0,R.current=ze.NONE);const t=N.current;t.splice(0,t.length,...t.filter(t=>t.pointerId!==e.pointerId))},[]),I=e.useCallback(e=>{k(e),e.persist(),N.current.push(e)},[k]),W=e.useCallback(e=>N.current.find(({pointerId:t})=>e.pointerId===t),[]),$=Ie(e=>{I(e)}),O=(e,t)=>v&&e>t||f&&e<-t,T=Ie(e=>{const t=W(e);if(t)if(M.current===e.pointerId){const e=Date.now()-L.current,t=P.current;R.current===ze.SWIPE?Math.abs(t)>.3*i||Math.abs(t)>5&&e<l?u(t,e):s(t):R.current===ze.PULL&&(O(t,60)?y(t,e):w(t)),P.current=0,R.current=ze.NONE}else{const{target:r}=e;n&&r instanceof HTMLElement&&r===t.target&&(r.classList.contains(S(d))||r.classList.contains(S("slide_wrapper")))&&C()}k(e)});!function(t,n,r,o,i){e.useEffect(()=>D(t(p,n),t(g,r),t(b,o),t(E,o),t(x,o)),[t,n,r,o,i])}(r,$,Ie(e=>{const n=W(e);if(n){const r=M.current===e.pointerId;if(0===e.buttons)return void(r&&0!==P.current?T(e):k(n));const i=e.clientX-n.clientX,l=e.clientY-n.clientY;if(void 0===M.current){const n=t=>{I(e),M.current=e.pointerId,L.current=Date.now(),R.current=t};Math.abs(i)>Math.abs(l)&&Math.abs(i)>30&&o(i)?t||(n(ze.SWIPE),c()):Math.abs(l)>Math.abs(i)&&O(l,30)&&(n(ze.PULL),m())}else r&&(R.current===ze.SWIPE?(P.current=i,a(i)):R.current===ze.PULL&&(P.current=l,h(l)))}}),T)}const je=I("container"),Ke=e.createContext(null),Ve=O("useController","ControllerContext",Ke);const qe=V(r,function({children:t,...n}){var r;const{carousel:i,animation:l,controller:c,on:a,styles:s,render:d}=n,{closeOnPullUp:C,closeOnPullDown:P,preventDefaultWheelX:N,preventDefaultWheelY:M}=c,[k,I]=e.useState(),W=de(),$=ve(),[O,T]=e.useState(Xe.NONE),_=e.useRef(0),A=e.useRef(0),X=e.useRef(1),{registerSensors:B,subscribeSensors:z}=function(){const[t]=e.useState({}),n=e.useCallback((e,n)=>{var r;null===(r=t[e])||void 0===r||r.forEach(e=>{n.isPropagationStopped()||e(n)})},[t]);return{registerSensors:e.useMemo(()=>({onPointerDown:e=>n(p,e),onPointerMove:e=>n(g,e),onPointerUp:e=>n(b,e),onPointerLeave:e=>n(E,e),onPointerCancel:e=>n(x,e),onKeyDown:e=>n(y,e),onKeyUp:e=>n("onKeyUp",e),onWheel:e=>n(w,e)}),[n]),subscribeSensors:e.useCallback((e,n)=>(t[e]||(t[e]=[]),t[e].unshift(n),()=>{const r=t[e];r&&r.splice(0,r.length,...r.filter(e=>e!==n))}),[t])}}(),{subscribe:H,publish:Y}=ie(),j=ke(),K=ke(),V=ke(),{containerRef:q,setContainerRef:G,containerRect:J}=Re(),Q=$e(function({preventDefaultWheelX:t,preventDefaultWheelY:n}){const r=e.useRef(null),o=Ie(e=>{const r=Math.abs(e.deltaX)>Math.abs(e.deltaY);(r&&t||!r&&n||e.ctrlKey)&&e.preventDefault()});return e.useCallback(e=>{var t;e?e.addEventListener("wheel",o,{passive:!1}):null===(t=r.current)||void 0===t||t.removeEventListener("wheel",o),r.current=e},[o])}({preventDefaultWheelX:N,preventDefaultWheelY:M}),G),Z=e.useRef(null),ee=$e(Z,void 0),{getOwnerDocument:te}=ne(),re=Oe(),oe=e=>(re?-1:1)*("number"==typeof e?e:1),le=Ie(()=>{var e;return null===(e=q.current)||void 0===e?void 0:e.focus()}),ce=Ie(()=>n),ae=Ie(()=>W),ue=e.useCallback(e=>Y(f,e),[Y]),se=e.useCallback(e=>Y(v,e),[Y]),fe=e.useCallback(()=>Y(h),[Y]),me=e=>!(i.finite&&(oe(e)>0&&0===W.currentIndex||oe(e)<0&&W.currentIndex===W.slides.length-1)),he=e=>{var t;_.current=e,null===(t=q.current)||void 0===t||t.style.setProperty(R("swipe_offset"),`${Math.round(e)}px`)},pe=e=>{var t,n;A.current=e,X.current=(()=>{const t=P&&e>0?e:C&&e<0?-e:0;return Math.min(Math.max(function(e,t=0){const n=10**t;return Math.round((e+Number.EPSILON)*n)/n}(1-t/60*.5,2),.5),1)})(),null===(t=q.current)||void 0===t||t.style.setProperty(R("pull_offset"),`${Math.round(e)}px`),null===(n=q.current)||void 0===n||n.style.setProperty(R("pull_opacity"),`${X.current}`)},{prepareAnimation:be}=Se(Z,(e,t,n)=>{if(Z.current&&J)return{keyframes:[{transform:`translate(0, ${e.rect.y-t.y+n.y}px)`,opacity:e.opacity},{transform:"translate(0, 0)",opacity:1}],duration:e.duration,easing:l.easing.fade}}),Ee=(e,t)=>{if(C||P){pe(e);let n=0;Z.current&&(n=l.fade*(t?2:1),be({rect:Z.current.getBoundingClientRect(),opacity:X.current,duration:n})),V(()=>{pe(0),T(Xe.NONE)},n),T(Xe.ANIMATION),t||fe()}},{prepareAnimation:xe,isAnimationPlaying:ye}=Se(Z,(e,t,n)=>{var r;if(Z.current&&J&&(null===(r=W.animation)||void 0===r?void 0:r.duration)){const r=F(i.spacing),o=(r.percent?r.percent*J.width/100:r.pixel)||0;return{keyframes:[{transform:`translate(${oe(W.globalIndex-e.index)*(J.width+o)+e.rect.x-t.x+n.x}px, 0)`},{transform:"translate(0, 0)"}],duration:W.animation.duration,easing:W.animation.easing}}}),we=Ie(e=>{var t,n;const r=e.offset||0,o=r?l.swipe:null!==(t=l.navigation)&&void 0!==t?t:l.swipe,i=r||ye()?l.easing.swipe:l.easing.navigation;let{direction:c}=e;const a=null!==(n=e.count)&&void 0!==n?n:1;let u=Xe.ANIMATION,s=o*a;if(!c){const t=null==J?void 0:J.width,n=e.duration||0,i=t?o/t*Math.abs(r):o;0!==a?(n<i?s=s/i*Math.max(n,i/5):t&&(s=o/t*(t-Math.abs(r))),c=oe(r)>0?f:v):s=o/2}let d=0;c===f?me(oe(1))?d=-a:(u=Xe.NONE,s=o):c===v&&(me(oe(-1))?d=a:(u=Xe.NONE,s=o)),s=Math.round(s),K(()=>{he(0),T(Xe.NONE)},s),Z.current&&xe({rect:Z.current.getBoundingClientRect(),index:W.globalIndex}),T(u),Y(m,{type:"swipe",increment:d,duration:s,easing:i})});e.useEffect(()=>{var e,t;(null===(e=W.animation)||void 0===e?void 0:e.increment)&&(null===(t=W.animation)||void 0===t?void 0:t.duration)&&j(()=>$({type:"swipe",increment:0}),W.animation.duration)},[W.animation,$,j]);const Ce=[z,me,(null==J?void 0:J.width)||0,l.swipe,()=>T(Xe.SWIPE),e=>he(e),(e,t)=>we({offset:e,duration:t,count:1}),e=>we({offset:e,count:0})],Pe=[()=>{P&&T(Xe.PULL)},e=>pe(e),e=>Ee(e),e=>Ee(e,!0)];Ye(c,...Ce,C,P,...Pe,fe),function(t,n,r,o,i,l,c,a,u){const s=e.useRef(0),d=e.useRef(0),f=e.useRef(void 0),v=e.useRef(void 0),m=e.useRef(0),h=e.useRef(void 0),p=e.useRef(0),{setTimeout:g,clearTimeout:b}=ge(),E=e.useCallback(()=>{f.current&&(b(f.current),f.current=void 0)},[b]),x=e.useCallback(()=>{v.current&&(b(v.current),v.current=void 0)},[b]),y=Ie(()=>{t!==Xe.SWIPE&&(s.current=0,p.current=0,E(),x())});e.useEffect(y,[t,y]);const C=Ie(e=>{v.current=void 0,s.current===e&&u(s.current)}),P=Ie(e=>{if(e.ctrlKey)return;if(Math.abs(e.deltaY)>Math.abs(e.deltaX))return;const n=e=>{m.current=e,b(h.current),h.current=e>0?g(()=>{m.current=0,h.current=void 0},300):void 0};if(t===Xe.NONE){if(Math.abs(e.deltaX)<=1.2*Math.abs(m.current))return void n(e.deltaX);if(!r(-e.deltaX))return;if(d.current+=e.deltaX,E(),Math.abs(d.current)>30)d.current=0,n(0),p.current=Date.now(),l();else{const e=d.current;f.current=g(()=>{f.current=void 0,e===d.current&&(d.current=0)},i)}}else if(t===Xe.SWIPE){let t=s.current-e.deltaX;if(t=Math.min(Math.abs(t),o)*Math.sign(t),s.current=t,c(t),x(),Math.abs(t)>.2*o)return n(e.deltaX),void a(t,Date.now()-p.current);v.current=g(()=>C(t),2*i)}else n(e.deltaX)});e.useEffect(()=>n(w,P),[n,P])}(O,...Ce);const Ne=Ie(()=>{c.focus&&te().querySelector(`.${S(o)} .${S(je())}`)&&le()});e.useEffect(Ne,[Ne]);const Me=Ie(()=>{var e;null===(e=a.view)||void 0===e||e.call(a,{index:W.currentIndex})});e.useEffect(Me,[W.globalIndex,Me]),e.useEffect(()=>D(H(f,e=>we({direction:f,...e})),H(v,e=>we({direction:v,...e})),H(m,e=>$(e))),[H,we,$]);const Le=e.useMemo(()=>({prev:ue,next:se,close:fe,focus:le,slideRect:J?U(J,i.padding):{width:0,height:0},containerRect:J||{width:0,height:0},subscribeSensors:z,containerRef:q,setCarouselRef:ee,toolbarWidth:k,setToolbarWidth:I}),[ue,se,fe,le,z,J,q,ee,k,I,i.padding]);return e.useImperativeHandle(c.ref,()=>({prev:ue,next:se,close:fe,focus:le,getLightboxProps:ce,getLightboxState:ae}),[ue,se,fe,le,ce,ae]),e.createElement("div",{ref:Q,className:L(S(je()),S(u)),style:{...O===Xe.SWIPE?{[R("swipe_offset")]:`${Math.round(_.current)}px`}:null,...O===Xe.PULL?{[R("pull_offset")]:`${Math.round(A.current)}px`,[R("pull_opacity")]:`${X.current}`}:null,..."none"!==c.touchAction?{[R("controller_touch_action")]:c.touchAction}:null,...s.container},tabIndex:-1,...B},J&&e.createElement(Ke.Provider,{value:Le},t,null===(r=d.controls)||void 0===r?void 0:r.call(d)))});function Ge(e){return k(n,e)}function Je(e){return k(d,e)}function Qe({slide:t,offset:n}){const r=e.useRef(null),{currentIndex:o,slides:i}=de(),{slideRect:l,focus:c}=Ve(),{render:a,carousel:{imageFit:s,imageProps:d},on:{click:f},styles:{slide:v},labels:m}=ae(),{getOwnerDocument:h}=ne(),p=0!==n;e.useEffect(()=>{var e;p&&(null===(e=r.current)||void 0===e?void 0:e.contains(h().activeElement))&&c()},[p,c,h]);return e.createElement("div",{ref:r,className:L(S(Je()),!p&&S(Je("current")),S(u)),...(g=p,{inert:j?g:g?"":void 0}),style:v,role:"group","aria-roledescription":W(m,"Slide"),"aria-label":$(m,i,o+n)},(()=>{var r,i,c,u;let v=null===(r=a.slide)||void 0===r?void 0:r.call(a,{slide:t,offset:n,rect:l});return!v&&_(t)&&(v=e.createElement(Fe,{slide:t,offset:n,render:a,rect:l,imageFit:s,imageProps:d,onClick:p?void 0:()=>null==f?void 0:f({index:o})})),v?e.createElement(e.Fragment,null,null===(i=a.slideHeader)||void 0===i?void 0:i.call(a,{slide:t}),(null!==(c=a.slideContainer)&&void 0!==c?c:({children:e})=>e)({slide:t,children:v}),null===(u=a.slideFooter)||void 0===u?void 0:u.call(a,{slide:t})):null})());var g}function Ze(){const t=ae().styles.slide;return e.createElement("div",{className:S(d),style:t})}const et=V(n,function({carousel:t,labels:n}){const{slides:r,currentIndex:o,globalIndex:i}=de(),{setCarouselRef:l}=Ve(),{autoPlaying:c,focusWithin:a}=Z(),u=F(t.spacing),s=F(t.padding),d=function(e,t,n=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),n))}(t,r,1),f=[];if(B(r))for(let e=o-d;e<=o+d;e+=1){const n=z(r,e),l=i-o+e,c=t.finite&&(e<0||e>r.length-1);f.push(c?{key:l}:{key:[`${l}`,Y(n)].filter(Boolean).join("|"),offset:e-o,slide:n})}return e.createElement("div",{ref:l,className:L(S(Ge()),f.length>0&&S(Ge("with_slides"))),style:{[`${R(Ge("slides_count"))}`]:f.length,[`${R(Ge("spacing_px"))}`]:u.pixel||0,[`${R(Ge("spacing_percent"))}`]:u.percent||0,[`${R(Ge("padding_px"))}`]:s.pixel||0,[`${R(Ge("padding_percent"))}`]:s.percent||0},role:"region","aria-live":c&&!a?"off":"polite","aria-roledescription":W(n,"Carousel"),"aria-label":W(n,"Photo gallery")},f.map(({key:t,slide:n,offset:r})=>n?e.createElement(Qe,{key:t,slide:n,offset:r}):e.createElement(Ze,{key:t})))});function tt(){const{carousel:e}=ae(),{slides:t,currentIndex:n}=de();return{prevDisabled:0===t.length||e.finite&&0===n,nextDisabled:0===t.length||e.finite&&n===t.length-1}}function nt({label:t,icon:n,renderIcon:r,action:o,onClick:i,disabled:l,style:c}){return e.createElement(Ee,{label:t,icon:n,renderIcon:r,className:S(`navigation_${o}`),disabled:l,onClick:i,style:c,...De(Ve().focus,l)})}const rt=V("navigation",function({render:{buttonPrev:t,buttonNext:n,iconPrev:r,iconNext:o},styles:i}){const{prev:l,next:c,subscribeSensors:a}=Ve(),{prevDisabled:u,nextDisabled:s}=tt();return function(t){var n;const r=Oe(),{publish:o}=ie(),{animation:i}=ae(),{prevDisabled:l,nextDisabled:c}=tt(),a=(null!==(n=i.navigation)&&void 0!==n?n:i.swipe)/2,u=Te(()=>o(f),a),s=Te(()=>o(v),a),d=Ie(e=>{switch(e.key){case"Escape":o(h);break;case"ArrowLeft":(r?c:l)||(r?s:u)();break;case"ArrowRight":(r?l:c)||(r?u:s)()}});e.useEffect(()=>t(y,d),[t,d])}(a),e.createElement(e.Fragment,null,t?t():e.createElement(nt,{label:"Previous",action:f,icon:we,renderIcon:r,style:i.navigationPrev,disabled:u,onClick:l}),n?n():e.createElement(nt,{label:"Next",action:v,icon:Ce,renderIcon:o,style:i.navigationNext,disabled:s,onClick:c}))}),ot=S("no_scroll"),it=S(s);function lt(e){return"style"in e}function ct(e,t,n){const r=window.getComputedStyle(e),o=n?"padding-left":"padding-right",i=n?r.paddingLeft:r.paddingRight,l=e.style.getPropertyValue(o);return e.style.setProperty(o,`${(A(i)||0)+t}px`),()=>{l?e.style.setProperty(o,l):e.style.removeProperty(o)}}const at=V("no-scroll",function({noScroll:{disabled:t},children:n}){const r=Oe(),{getOwnerDocument:o,getOwnerWindow:i}=ne();return e.useEffect(()=>{if(t)return()=>{};const e=[],n=i(),{body:l,documentElement:c}=o(),a=Math.round(n.innerWidth-c.clientWidth);if(a>0){e.push(ct(l,a,r));const t=l.getElementsByTagName("*");for(let o=0;o<t.length;o+=1){const i=t[o];lt(i)&&"fixed"===n.getComputedStyle(i).getPropertyValue("position")&&!i.classList.contains(it)&&e.push(ct(i,a,r))}}return l.classList.add(ot),()=>{l.classList.remove(ot),e.forEach(e=>e())}},[r,t,o,i]),e.createElement(e.Fragment,null,n)});function ut(e){return k(o,e)}function st(e,t,n){const r=e.getAttribute(t);return e.setAttribute(t,n),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}const dt=V(o,function({children:n,animation:r,styles:o,className:i,on:l,portal:c,close:a,labels:u}){const[d,f]=e.useState(!1),[v,m]=e.useState(!1),p=e.useRef([]),g=e.useRef(null),{setTimeout:b}=ge(),{subscribe:E}=ie(),x=Le()?0:r.fade;e.useEffect(()=>(f(!0),()=>{f(!1),m(!1)}),[]);const y=Ie(()=>{p.current.forEach(e=>e()),p.current=[]}),w=Ie(()=>{var e;m(!1),y(),null===(e=l.exiting)||void 0===e||e.call(l),b(()=>{var e;null===(e=l.exited)||void 0===e||e.call(l),a()},x)});e.useEffect(()=>E(h,w),[E,w]);const C=Ie(e=>{var t,n,r;!function(e){e.scrollTop}(e),m(!0),null===(t=l.entering)||void 0===t||t.call(l);const o=null!==(r=null===(n=e.parentNode)||void 0===n?void 0:n.children)&&void 0!==r?r:[];for(let i=0;i<o.length;i+=1){const t=o[i];-1===["TEMPLATE","SCRIPT","STYLE"].indexOf(t.tagName)&&t!==e&&(p.current.push(st(t,"inert","")),p.current.push(st(t,"aria-hidden","true")))}p.current.push(()=>{var e,t;null===(t=null===(e=g.current)||void 0===e?void 0:e.focus)||void 0===t||t.call(e)}),b(()=>{var e;null===(e=l.entered)||void 0===e||e.call(l)},x)}),P=e.useCallback(e=>{e?C(e):y()},[C,y]);return d?t.createPortal(e.createElement(Ue,{ref:P,className:L(i,S(ut()),S(s),v&&S(ut("open"))),"aria-modal":!0,role:"dialog","aria-label":W(u,"Lightbox"),style:{...r.fade!==K.animation.fade?{[R("fade_animation_duration")]:`${x}ms`}:null,...r.easing.fade!==K.animation.easing.fade?{[R("fade_animation_timing_function")]:r.easing.fade}:null,...o.root},onFocus:e=>{g.current||(g.current=e.relatedTarget)}},n),c.root||document.body):null});const ft=V("root",function({children:t}){return e.createElement(e.Fragment,null,t)});const vt=V(i,function({toolbar:{buttons:t},render:{buttonClose:n,iconClose:r},styles:o}){const{close:l,setToolbarWidth:c}=Ve(),{setContainerRef:a,containerRect:u}=Re();return Me(()=>{c(null==u?void 0:u.width)},[c,null==u?void 0:u.width]),e.createElement("div",{ref:a,style:o.toolbar,className:S(k(i,s))},null==t?void 0:t.map(t=>t===h?n?n():e.createElement(Ee,{key:h,label:"Close",icon:ye,renderIcon:r,onClick:l}):t));var s});function mt(t,n){var r;return e.createElement(t.module.component,{key:t.module.name,...n},null===(r=t.children)||void 0===r?void 0:r.map(e=>mt(e,n)))}function ht(e,t={}){const{easing:n,...r}=e,{easing:o,...i}=t;return{easing:{...n,...o},...r,...i}}function pt({carousel:t,animation:n,render:o,toolbar:i,controller:l,noScroll:c,on:a,plugins:u,slides:s,index:d,...f}){const{animation:v,carousel:m,render:h,toolbar:p,controller:g,noScroll:b,on:E,slides:x,index:y,plugins:w,...C}=K,{config:P,augmentation:N}=function(e,t=[],n=[]){let o=e;const i=e=>{const t=[...o];for(;t.length>0;){const n=t.pop();if((null==n?void 0:n.module.name)===e)return!0;(null==n?void 0:n.children)&&t.push(...n.children)}return!1},l=(e,t)=>{o=""!==e?J(o,e,e=>[q(t,[e])]):[q(t,o)]},c=(e,t)=>{o=J(o,e,e=>[q(e.module,[q(t,e.children)])])},a=(e,t,n)=>{o=J(o,e,e=>{var r;return[q(e.module,[...n?[q(t)]:[],...null!==(r=e.children)&&void 0!==r?r:[],...n?[]:[q(t)]])]})},u=(e,t,n)=>{o=J(o,e,e=>[...n?[q(t)]:[],e,...n?[]:[q(t)]])},s=e=>{c(r,e)},d=(e,t)=>{o=J(o,e,e=>[q(t,e.children)])},f=e=>{o=J(o,e,e=>e.children)},v=e=>{n.push(e)};return t.forEach(e=>{e({contains:i,addParent:l,append:c,addChild:a,addSibling:u,addModule:s,replace:d,remove:f,augment:v})}),{config:o,augmentation:e=>n.reduce((e,t)=>t(e),e)}}([q(dt,[q(at,[q(qe,[q(et),q(vt),q(rt)])])])],u||w),M=N({animation:ht(v,n),carousel:{...m,...t},render:{...h,...o},toolbar:{...p,...i},controller:{...g,...l},noScroll:{...b,...c},on:{...E,...a},...C,...f});return M.open?e.createElement(ue,{...M},e.createElement(he,{slides:s||x,index:A(d||y)},e.createElement(be,null,e.createElement(le,null,e.createElement(ee,null,mt(q(ft,P),M)))))):null}export{pt as L};
