import{P as t}from"./selderee-BSueesG9.js";import{i as n}from"./domhandler-BfnXUw5w.js";function r(n){return new t(e(n))}function e(t){const n=t.map(o);return(t,...r)=>n.flatMap(n=>n(t,...r))}function o(t){switch(t.type){case"terminal":{const n=[t.valueContainer];return(t,...r)=>n}case"tagName":return function(t){const n={};for(const r of t.variants)n[r.value]=e(r.cont);return(t,...r)=>{const e=n[t.name];return e?e(t,...r):[]}}(t);case"attrValue":return function(t){const n=[];for(const o of t.matchers){const t=o.predicate,r=e(o.cont);n.push((n,e,...o)=>t(n)?r(e,...o):[])}const r=t.name;return(t,...e)=>{const o=t.attribs[r];return o||""===o?n.flatMap(n=>n(o,t,...e)):[]}}(t);case"attrPresence":return function(t){const n=t.name,r=e(t.cont);return(t,...e)=>Object.prototype.hasOwnProperty.call(t.attribs,n)?r(t,...e):[]}(t);case"pushElement":return function(t){const n=e(t.cont),r="+"===t.combinator?c:s;return(t,...e)=>{const o=r(t);return null===o?[]:n(o,t,...e)}}(t);case"popElement":return function(t){const n=e(t.cont);return(t,r,...e)=>n(r,...e)}(t)}}const c=t=>{const r=t.prev;return null===r?null:n(r)?r:c(r)},s=t=>{const r=t.parent;return r&&n(r)?r:null};export{r as h};
