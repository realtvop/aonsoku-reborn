const n={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function t(o={}){let e,i,r,s,a=null,l=0,c=!1,u=!1,p=!1,f=!1;function d(){r||(y()?p=!0:(c||i.emit("autoplay:play"),function(){const{ownerWindow:n}=i.internalEngine();n.clearTimeout(l),l=n.setTimeout(I,s[i.selectedScrollSnap()]),a=(new Date).getTime(),i.emit("autoplay:timerset")}(),c=!0))}function m(){r||(c&&i.emit("autoplay:stop"),function(){const{ownerWindow:n}=i.internalEngine();n.clearTimeout(l),l=0,a=null,i.emit("autoplay:timerstopped")}(),c=!1)}function g(){if(y())return p=c,m();p&&d()}function y(){const{ownerDocument:n}=i.internalEngine();return"hidden"===n.visibilityState}function O(){u||m()}function S(){u||d()}function w(){u=!0,m()}function E(){u=!1,d()}function I(){const{index:n}=i.internalEngine(),t=n.clone().add(1).get(),o=i.scrollSnapList().length-1,r=e.stopOnLastSnap&&t===o;if(i.canScrollNext()?i.scrollNext(f):i.scrollTo(0,f),i.emit("autoplay:select"),r)return m();d()}return{name:"autoplay",options:o,init:function(a,l){i=a;const{mergeOptions:c,optionsAtMedia:u}=l,p=c(n,t.globalOptions),y=c(p,o);if(e=u(y),i.scrollSnapList().length<=1)return;f=e.jump,r=!1,s=function(n,t){const o=n.scrollSnapList();return"number"==typeof t?o.map(()=>t):t(o,n)}(i,e.delay);const{eventStore:I,ownerDocument:v}=i.internalEngine(),D=!!i.internalEngine().options.watchDrag,N=function(n,t){const o=n.rootNode();return t&&t(o)||o}(i,e.rootNode);I.add(v,"visibilitychange",g),D&&i.on("pointerDown",O),D&&!e.stopOnInteraction&&i.on("pointerUp",S),e.stopOnMouseEnter&&I.add(N,"mouseenter",w),e.stopOnMouseEnter&&!e.stopOnInteraction&&I.add(N,"mouseleave",E),e.stopOnFocusIn&&i.on("slideFocusStart",m),e.stopOnFocusIn&&!e.stopOnInteraction&&I.add(i.containerNode(),"focusout",d),e.playOnInit&&d()},destroy:function(){i.off("pointerDown",O).off("pointerUp",S).off("slideFocusStart",m),m(),r=!0,c=!1},play:function(n){void 0!==n&&(f=n),d()},stop:function(){c&&m()},reset:function(){c&&d()},isPlaying:function(){return c},timeUntilNext:function(){return a?s[i.selectedScrollSnap()]-((new Date).getTime()-a):null}}}t.globalOptions=void 0;export{t as A};
