import{j as e}from"./react-BohqOKG4.js";import{c as t}from"./clsx-BeLtu-UY.js";import{L as s}from"./react-router-dom-DLqO9Z-p.js";import{D as n}from"./dot-Ccno5lbS.js";import{R as r,c as a,j as i}from"./index-Dw_5HS3q.js";import{C as o}from"./cover-image-zpWg5P0A.js";const c=4,l=3;function m({artistId:t,className:n,...i}){return e.jsx(s,{className:a("truncate",n,t?"hover:underline":"pointer-events-none"),...i,to:r.ARTIST.PAGE(t??""),onContextMenu:e=>{e.stopPropagation(),e.preventDefault()}})}function x({artists:s,onClickLink:r}){const a=s.slice(0,3),i=s.length>3;function o(e){return e<s.length-1}function c(e,t){return e>0?t:void 0}return e.jsxs("div",{className:"flex items-center truncate",children:[a.map(({id:s,name:a},i)=>e.jsxs("div",{className:t("flex items-center",i>0&&"truncate"),children:[e.jsx(m,{artistId:s,title:c(i,a),onClick:()=>{r&&r()},children:a}),o(i)&&e.jsx(n,{})]},s)),i&&e.jsx("span",{children:"..."})]})}function d({song:t}){return e.jsxs("div",{className:"flex w-full gap-2 items-center",children:[e.jsx(o,{coverArt:t.coverArt,coverArtType:"song",altText:t.title}),e.jsxs("div",{className:"flex flex-col w-full justify-center truncate",children:[e.jsx("span",{className:"font-medium truncate",children:t.title}),e.jsx("div",{className:"flex items-center truncate",children:e.jsx(u,{song:t})})]})]})}function u({song:t}){const{artists:s,artistId:n,artist:r}=t;return s&&s.length>1?e.jsx(f,{song:t}):n?e.jsx(j,{id:n,name:r}):e.jsx("span",{className:"text-xs text-foreground/70 text-nowrap",children:r})}function f({song:t}){const{artists:s,artistId:n,artist:r}=t;return s&&s.length>1?e.jsx("div",{className:"flex items-center gap-1 text-xs text-foreground/70 w-full maskImage-marquee-fade-finished",children:s.map(({id:t,name:n},r)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{id:t,name:n}),r<s.length-1&&","]},t))}):e.jsx(j,{id:n,name:r})}function j({id:t,name:n}){const{mainDrawerState:o,closeDrawer:c}=i();return e.jsx(s,{to:r.ARTIST.PAGE(t??""),className:a("w-fit inline-flex",!t&&"pointer-events-none"),"data-testid":"track-artist-url",onClick:()=>{o&&c()},children:e.jsx("span",{className:a("text-xs text-foreground/70 text-nowrap",t&&"hover:underline hover:text-foreground"),children:n})})}export{c as A,l as R,d as T,x as a,m as b};
