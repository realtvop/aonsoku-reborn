import{r}from"./react-BohqOKG4.js";function n(n,e,t,u){var c=this,i=r.useRef(null),f=r.useRef(0),a=r.useRef(0),o=r.useRef(null),l=r.useRef([]),s=r.useRef(),m=r.useRef(),v=r.useRef(n),R=r.useRef(!0);v.current=n;var d="undefined"!=typeof window,p=!e&&0!==e&&d;if("function"!=typeof n)throw new TypeError("Expected a function");e=+e||0;var w=!!(t=t||{}).leading,h=!("trailing"in t)||!!t.trailing,x="maxWait"in t,g="debounceOnServer"in t&&!!t.debounceOnServer,y=x?Math.max(+t.maxWait||0,e):null;r.useEffect(function(){return R.current=!0,function(){R.current=!1}},[]);var A=r.useMemo(function(){var r=function(r){var n=l.current,e=s.current;return l.current=s.current=null,f.current=r,a.current=a.current||r,m.current=v.current.apply(e,n)},n=function(r,n){p&&cancelAnimationFrame(o.current),o.current=p?requestAnimationFrame(r):setTimeout(r,n)},t=function(r){if(!R.current)return!1;var n=r-i.current;return!i.current||n>=e||n<0||x&&r-f.current>=y},u=function(n){return o.current=null,h&&l.current?r(n):(l.current=s.current=null,m.current)},A=function r(){var c=Date.now();if(w&&a.current===f.current&&D(),t(c))return u(c);if(R.current){var o=e-(c-i.current),l=x?Math.min(o,y-(c-f.current)):o;n(r,l)}},D=function(){},E=function(){if(d||g){var u=Date.now(),a=t(u);if(l.current=[].slice.call(arguments),s.current=c,i.current=u,a){if(!o.current&&R.current)return f.current=i.current,n(A,e),w?r(i.current):m.current;if(x)return n(A,e),r(i.current)}return o.current||n(A,e),m.current}};return E.cancel=function(){o.current&&(p?cancelAnimationFrame(o.current):clearTimeout(o.current)),f.current=0,l.current=i.current=s.current=o.current=null},E.isPending=function(){return!!o.current},E.flush=function(){return o.current?u(Date.now()):m.current},E},[w,x,e,y,h,p,d,g,u]);return A}export{n as c};
