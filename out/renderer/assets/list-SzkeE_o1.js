import{j as e}from"./react-BohqOKG4.js";import{u as t}from"./@tanstack-3eZgfo06.js";import{c as s}from"./clsx-BeLtu-UY.js";import{S as a,H as r}from"./header-title-BpiRIAyn.js";import{aA as i,B as o,R as l,F as n,aX as m,b as c}from"./index-Dw_5HS3q.js";import{E as d}from"./empty-wrapper-DCqAaDSN.js";import{b as j,P as p}from"./play-button-BMYlYUiF.js";import{u}from"./react-i18next-CJXO39OJ.js";import{D as x}from"./data-table-list-CEoMo1BX.js";import{L as h}from"./react-router-dom-DLqO9Z-p.js";import{P as f}from"./options-hS6iO596.js";import{T as y}from"./action-button-BoxuniMX.js";import{C as g}from"./cover-image-zpWg5P0A.js";import{D as b}from"./data-table-column-header-Bz-4KByJ.js";import{c as w}from"./convertSecondsToTime-B1d9sDyx.js";import{i as v}from"./i18next-CM37CVQ3.js";import{a8 as N,a7 as P,a6 as k,d as S}from"./lucide-react-DrCvGt71.js";import{q as K}from"./queryKeys-DxXuT4IC.js";import{b as A}from"./react-router-C-_aAzNf.js";import"./crypto-js-jXt9otfP.js";import"./react-dom-DeCT9Zg9.js";import"./scheduler-CuPG8W_I.js";import"./react-lazy-load-image-component-DTPOgetJ.js";import"./react-toastify-Dcxz3wpx.js";import"./i18next-browser-languagedetector-F0gxWJsw.js";import"./react-device-detect-CHs-JbVH.js";import"./ua-parser-js-oxSasMdn.js";import"./tailwind-extended-shadows-merge-DdKC4l0c.js";import"./tailwind-merge-5Glu2Zmz.js";import"./@radix-ui-LgTM4vlv.js";import"./aria-hidden-DyxP-6dL.js";import"./react-remove-scroll-yCREhh_0.js";import"./tslib-Bc9CN1Ef.js";import"./react-remove-scroll-bar-BNI7vDx9.js";import"./react-style-singleton-C1oTdtRg.js";import"./get-nonce-BYiZHLe3.js";import"./use-sidecar-DQWw4Coi.js";import"./use-callback-ref-DIudPNPV.js";import"./@floating-ui-VDk0qcgD.js";import"./use-sync-external-store-C4iHanJs.js";import"./class-variance-authority-DO3vQtTq.js";import"./lodash-DSAJ3Ow_.js";import"./zustand-Bqgea8iK.js";import"./immer-Dwi4ZIhD.js";import"./dayjs-BG2b1roC.js";import"./idb-keyval-PpvEIwUC.js";import"./fast-average-color-Dy3p1ZbH.js";import"./@hookform-CXDBdaWi.js";import"./react-hook-form-C23o4OKy.js";import"./use-debounce-CVLZIJWc.js";import"./zod-DxP4i6Pi.js";import"./react-country-flag-DV3c0LTu.js";import"./@remix-run-C5FxfqAA.js";import"./equalizer-bars-BP_G2EY6.js";import"./cmdk-DpOb1GNg.js";import"./command-9rYDq5Wc.js";import"./react-hotkeys-hook-qKPfarcW.js";function C(){const{t:t}=u(),{setPlaylistDialogState:s}=j();return e.jsx(i,{className:"pt-[--shadow-header-distance] h-full",children:e.jsx(d,{children:e.jsxs("div",{className:"text-center max-w-[500px]",children:[e.jsx("h3",{className:"text-2xl font-semibold tracking-tight",children:t("sidebar.emptyPlaylist")}),e.jsx(o,{size:"sm",variant:"default",className:"mt-4",onClick:()=>s(!0),children:e.jsx("span",{children:t("playlist.form.create.title")})})]})})})}function T(){const{setPlaylistDialogState:i}=j(),{t:d}=u(),{data:T,isLoading:D}=t({queryKey:[K.playlist.all],queryFn:c.playlists.getAll}),F=[{id:"index",accessorKey:"index",style:{width:48,minWidth:"48px"},header:()=>e.jsx("div",{className:"w-full text-center",children:"#"}),cell:({row:t,table:s})=>{const a=t.index+1,r=t.original;return e.jsx(p,{trackNumber:a,trackId:r.id,handlePlayButton:()=>s.options.meta?.handlePlaySong?.(t)})}},{id:"name",accessorKey:"name",enableSorting:!0,sortingFn:"customSortFn",style:{flex:1,minWidth:250},header:({column:t,table:s})=>e.jsx(b,{column:t,table:s,children:v.t("table.columns.name")}),cell:({row:t})=>e.jsxs("div",{className:"flex gap-2 items-center w-full",children:[e.jsx(g,{coverArt:t.original.coverArt,coverArtType:"playlist",altText:t.original.name}),e.jsx("div",{className:"flex flex-col max-w-full justify-center truncate",children:e.jsx(h,{to:l.PLAYLIST.PAGE(t.original.id),className:"hover:underline truncate",children:t.original.name})})]})},{id:"comment",accessorKey:"comment",style:{width:"25%",maxWidth:"25%",marginRight:"1rem"},className:"hidden 2xl:flex",header:v.t("table.columns.comment"),cell:({row:t})=>e.jsx("div",{className:"text-muted-foreground w-full truncate",children:e.jsx("p",{className:"truncate",children:t.original.comment})})},{id:"songCount",accessorKey:"songCount",enableSorting:!0,sortingFn:"basic",style:{width:190,maxWidth:190},header:({column:t,table:s})=>e.jsx(b,{column:t,table:s,children:v.t("table.columns.songCount")})},{id:"duration",accessorKey:"duration",style:{width:100,maxWidth:100},header:()=>e.jsx(n,{text:v.t("table.columns.duration"),children:e.jsx(N,{className:"w-4 h-4"})}),cell:({row:e})=>{const{duration:t}=e.original;return w(t??0)}},{id:"public",accessorKey:"public",style:{width:100,maxWidth:100},header:v.t("table.columns.public"),cell:({row:t})=>e.jsx("div",{children:t.original.public?e.jsx(P,{className:"w-5 h-5 text-white-500"}):e.jsx(k,{className:"w-5 h-5 text-gray-500"})})},{id:"actions",accessorKey:"actions",style:{width:48,maxWidth:48},header:"",cell:({row:t})=>{const s=t.original,a=0===s.songCount;return e.jsx(e.Fragment,{children:e.jsx(y,{optionsMenuItems:e.jsx(f,{playlist:s,disablePlayNext:a,disableAddLast:a,disableDownload:a})})})}}],L=A();if(D)return e.jsx(m,{});if(!T)return null;const W=T.length>0;return e.jsxs("div",{className:s("w-full","h-content"),children:[e.jsxs(a,{showGlassEffect:!1,fixed:!1,className:"relative w-full justify-between items-center",children:[e.jsx("div",{className:"w-full flex items-center justify-between",children:e.jsx(r,{title:d("sidebar.playlists"),count:T.length})}),e.jsxs(o,{size:"sm",variant:"default",className:"px-4",onClick:()=>i(!0),children:[e.jsx(S,{className:"w-5 h-5 -ml-[3px]"}),e.jsx("span",{className:"ml-2",children:d("playlist.form.create.title")})]})]}),!W&&e.jsx(C,{}),W&&e.jsx("div",{className:"w-full h-[calc(100%-80px)]",children:e.jsx(x,{columns:F,data:T,handlePlaySong:e=>L(l.PLAYLIST.PAGE(e.original.id)),allowRowSelection:!1,dataType:"playlist"})})]})}export{T as default};
