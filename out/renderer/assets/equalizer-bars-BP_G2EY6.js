import{r as a,j as e}from"./react-BohqOKG4.js";import{o as s}from"./lodash-DSAJ3Ow_.js";import{at as t,au as o,av as n,aw as d,ax as r,ay as i,az as l,aA as c,aB as m,aC as p,aD as f,aE as u,aF as x}from"./@radix-ui-LgTM4vlv.js";import{c as h,a6 as w,bd as j,be as N,bf as y,bg as b,P as g,X as v}from"./index-Dw_5HS3q.js";import{C,c as P,h as k,ak as R,al as z,d as A,ad as F,am as L,I as D,n as E,ac as I,Y as B}from"./lucide-react-DrCvGt71.js";import{u as O}from"./react-i18next-CJXO39OJ.js";import{B as q}from"./react-toastify-Dcxz3wpx.js";const S=i,Y=l,$=n,G=a.forwardRef(({className:a,inset:s,children:t,...o},n)=>e.jsxs(d,{ref:n,className:h("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",s&&"pl-8",a),...o,children:[t,e.jsx(C,{className:"ml-auto h-4 w-4"})]}));G.displayName=d.displayName;const M=a.forwardRef(({className:a,...s},t)=>e.jsx(r,{ref:t,className:h("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s}));M.displayName=r.displayName;const T=a.forwardRef(({className:a,...s},t)=>e.jsx(c,{children:e.jsx(m,{ref:t,className:h("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})}));T.displayName=m.displayName;const X=a.forwardRef(({className:a,inset:s,...t},n)=>e.jsx(o,{ref:n,className:h("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",a),...t}));X.displayName=o.displayName;a.forwardRef(({className:a,children:s,checked:t,...o},n)=>e.jsxs(p,{ref:n,className:h("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:t,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(f,{children:e.jsx(P,{className:"h-4 w-4"})})}),s]})).displayName=p.displayName;a.forwardRef(({className:a,children:s,...t},o)=>e.jsxs(u,{ref:o,className:h("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(f,{children:e.jsx(k,{className:"h-2 w-2 fill-current"})})}),s]})).displayName=u.displayName;a.forwardRef(({className:a,inset:s,...t},o)=>e.jsx(x,{ref:o,className:h("px-2 py-1.5 text-sm font-semibold text-foreground",s&&"pl-8",a),...t})).displayName=x.displayName;const _=a.forwardRef(({className:a,...s},o)=>e.jsx(t,{ref:o,className:h("-mx-1 my-1 h-px bg-border",a),...s}));function H({variant:a,icon:s,label:t,className:o,...n}){const d=e.jsxs(e.Fragment,{children:[s,e.jsx("span",{children:t})]});return"context"===a?e.jsx(X,{className:o,...n,children:d}):e.jsx(w,{className:o,...n,children:d})}function J({variant:a,icon:s,label:t,children:o}){const n=e.jsxs(e.Fragment,{children:[s,e.jsx("span",{children:t})]});return"context"===a?e.jsxs($,{children:[e.jsx(G,{children:n}),e.jsx(M,{className:"p-0 max-w-[300px]",children:o})]}):e.jsxs(j,{children:[e.jsx(N,{children:n}),e.jsx(y,{children:e.jsx(b,{className:"p-0 max-w-[300px]",children:o})})]})}_.displayName=t.displayName;const K={Play:function({variant:a="dropdown",...s}){const{t:t}=O();return e.jsx(H,{variant:a,icon:e.jsx(E,{className:"mr-2 h-4 w-4 fill-foreground"}),label:t("options.play"),...s})},PlayNext:function({variant:a="dropdown",...s}){const{t:t}=O();return e.jsx(H,{variant:a,icon:e.jsx(R,{className:"mr-2 h-4 w-4"}),label:t("options.playNext"),...s})},PlayLast:function({variant:a="dropdown",...s}){const{t:t}=O();return e.jsx(H,{variant:a,icon:e.jsx(z,{className:"mr-2 h-4 w-4"}),label:t("options.addLast"),...s})},Download:function({variant:a="dropdown",...s}){const{t:t}=O();return e.jsx(H,{variant:a,icon:e.jsx(L,{className:"mr-2 h-4 w-4"}),label:t("options.download"),...s})},AddToPlaylistOption:function({variant:a="dropdown",children:t,...o}){const{t:n}=O(),d=s(o,"children");return e.jsx(J,{variant:a,icon:e.jsx(A,{className:"mr-2 h-4 w-4"}),label:n("options.playlist.add"),...d,children:t})},EditPlaylist:function({variant:a="dropdown",...s}){const{t:t}=O();return e.jsx(H,{variant:a,icon:e.jsx(I,{className:"mr-2 h-4 w-4"}),label:t("options.playlist.edit"),...s})},RemovePlaylist:function({variant:a="dropdown",...s}){const{t:t}=O();return e.jsx(H,{variant:a,icon:e.jsx(F,{className:"mr-2 h-4 w-4 fill-red-300 text-red-500"}),label:t("options.playlist.delete"),...s})},RemoveFromPlaylist:function({variant:a="dropdown",...s}){const{t:t}=O();return e.jsx(H,{variant:a,icon:e.jsx(F,{className:"mr-2 h-4 w-4 fill-red-300 text-red-500"}),label:t("options.playlist.removeSong"),...s})},SongInfo:function({variant:a="dropdown",...s}){const{t:t}=O();return e.jsx(H,{variant:a,icon:e.jsx(D,{className:"mr-2 h-4 w-4"}),label:t("options.info"),...s})},MarkAsPlayed:function({variant:a="dropdown",...s}){const{t:t}=O();return e.jsx(H,{variant:a,icon:e.jsx(P,{className:"mr-2 h-4 w-4"}),label:t("options.markAsPlayed"),...s})},GotoPodcast:function({variant:a="dropdown",type:s="podcast",...t}){const{t:o}=O(),n=o(`options.goto.${s}`);return e.jsx(H,{variant:a,icon:e.jsx(B,{className:"mr-2 h-4 w-4"}),label:n,...t})}};function Q(){const{t:e}=O(),s=a.useCallback(()=>{q(e("downloads.started"),{autoClose:!1,type:"default",isLoading:!0,toastId:"download"})},[e]),t=a.useCallback(()=>{q.update("download",{render:e("downloads.completed"),type:"success",autoClose:5e3,isLoading:!1})},[e]),o=a.useCallback(()=>{q.update("download",{render:e("downloads.failed"),type:"error",autoClose:5e3,isLoading:!1})},[e]);return a.useEffect(()=>{(async()=>{g()&&window.api.downloadCompletedListener(()=>{t()})})()},[t]),{downloadBrowser:function(a,s=""){const t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("target","_blank"),t.setAttribute("download",s),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t),q.success(e("downloads.started"))},downloadDesktop:async function(a,e){s(),window.api.downloadFile({url:a,fileId:e}),window.api.downloadFailedListener(a=>{v.error("[DownloadDesktop] - Failed to download fileId:",a),o()})}}}const U=[{x:1,height:14},{x:7,height:20},{x:13,height:18},{x:19,height:12}];function V({size:a=24,className:s,...t}){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",...t,id:"bars",width:a,height:a,viewBox:"0 0 24 24",className:h("text-foreground",s),children:U.map((a,s)=>e.jsx("rect",{className:`eq-bar eq-bar--${s+1}`,x:a.x,y:0,width:4,height:a.height,rx:0,fill:"currentColor",shapeRendering:"geometricPrecision"},s))})}export{X as C,V as E,K as O,_ as a,S as b,Y as c,T as d,Q as u};
