import{r as e}from"./react-BohqOKG4.js";const n={};function t(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];r(t[0])&&n[t[0]]||(r(t[0])&&(n[t[0]]=new Date),function(){if(console&&console.warn){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];r(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),console.warn(...n)}}(...t))}const s=(e,n)=>()=>{if(e.isInitialized)n();else{const t=()=>{setTimeout(()=>{e.off("initialized",t)},0),n()};e.on("initialized",t)}},a=(e,n,t)=>{e.loadNamespaces(n,s(e,t))},o=(e,n,t,a)=>{r(t)&&(t=[t]),t.forEach(n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)}),e.loadLanguages(n,s(e,a))},r=e=>"string"==typeof e,i=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,c={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},u=e=>c[e];let l={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(i,u)};let g;const d={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l={...l,...e}}(e.options.react),(e=>{g=e})(e)}},p=e.createContext();class f{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces=()=>Object.keys(this.usedNamespaces)}const h=(e,n,t,s)=>e.getFixedT(n,t,s),m=function(n){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:i}=s,{i18n:c,defaultNS:u}=e.useContext(p)||{},d=i||c||g;if(d&&!d.reportNamespaces&&(d.reportNamespaces=new f),!d){t("You will need to pass in an i18next instance by using initReactI18next");const e=(e,n)=>{return r(n)?n:"object"==typeof(t=n)&&null!==t&&r(n.defaultValue)?n.defaultValue:Array.isArray(e)?e[e.length-1]:e;var t},n=[e,{},!1];return n.t=e,n.i18n={},n.ready=!1,n}d.options.react&&void 0!==d.options.react.wait&&t("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const m={...l,...d.options.react,...s},{useSuspense:b,keyPrefix:y}=m;let N=u||d.options&&d.options.defaultNS;N=r(N)?[N]:N||["translation"],d.reportNamespaces.addUsedNamespaces&&d.reportNamespaces.addUsedNamespaces(N);const v=(d.isInitialized||d.initializedStoreOnce)&&N.every(e=>function(e,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.languages&&n.languages.length?void 0!==n.options.ignoreJSONStructure?n.hasLoadedNamespace(e,{lng:s.lng,precheck:(n,t)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!t(n.isLanguageChangingTo,e))return!1}}):function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=n.languages[0],a=!!n.options&&n.options.fallbackLng,o=n.languages[n.languages.length-1];if("cimode"===s.toLowerCase())return!0;const r=(e,t)=>{const s=n.services.backendConnector.state[`${e}|${t}`];return-1===s||2===s};return!(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!r(n.isLanguageChangingTo,e)||!n.hasResourceBundle(s,e)&&n.services.backendConnector.backend&&(!n.options.resources||n.options.partialBundledLanguages)&&(!r(s,e)||a&&!r(o,e)))}(e,n,s):(t("i18n.languages were undefined or empty",n.languages),!0)}(e,d,m)),C=((n,t,s,a)=>e.useCallback(h(n,t,s,a),[n,t,s,a]))(d,s.lng||null,"fallback"===m.nsMode?N:N[0],y),k=()=>C,w=()=>h(d,s.lng||null,"fallback"===m.nsMode?N:N[0],y),[x,I]=e.useState(k);let S=N.join();s.lng&&(S=`${s.lng}${S}`);const L=((n,t)=>{const s=e.useRef();return e.useEffect(()=>{s.current=n},[n,t]),s.current})(S),E=e.useRef(!0);e.useEffect(()=>{const{bindI18n:e,bindI18nStore:n}=m;E.current=!0,v||b||(s.lng?o(d,s.lng,N,()=>{E.current&&I(w)}):a(d,N,()=>{E.current&&I(w)})),v&&L&&L!==S&&E.current&&I(w);const t=()=>{E.current&&I(w)};return e&&d&&d.on(e,t),n&&d&&d.store.on(n,t),()=>{E.current=!1,e&&d&&e.split(" ").forEach(e=>d.off(e,t)),n&&d&&n.split(" ").forEach(e=>d.store.off(e,t))}},[d,S]),e.useEffect(()=>{E.current&&v&&I(k)},[d,y,v]);const T=[x,d,v];if(T.t=x,T.i18n=d,T.ready=v,v)return T;if(!v&&!b)return T;throw new Promise(e=>{s.lng?o(d,s.lng,N,()=>e()):a(d,N,()=>e())})};export{d as i,m as u};
