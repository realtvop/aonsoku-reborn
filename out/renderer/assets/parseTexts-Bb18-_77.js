import{c as e}from"./html-to-text-CBZxtrEf.js";import{L as t}from"./linkify-it-CKPG3_41.js";function r(t){return e(t,{wordwrap:!1,selectors:[{selector:"a",format:"inline"},{selector:"img",format:"skip"}]})}function n({schema:e,url:t,text:r}){return e.includes("mailto")?`<a href="${t}">${r}</a>`:`<a href="${t}" target="_blank" rel="noreferrer nofollow">${r}</a>`}function o(e){const r=new t;let o=e.replace(/>([^<]+)</g,(e,t)=>{const o=r.match(t);if(!o)return e;return`>${o.reduce((e,{url:t,text:r,schema:o})=>{const a=n({schema:o,url:t,text:r});return e.replace(r,a)},t)}<`});if(!/<[^>]+>/.test(e)){const e=r.match(o);e&&e.forEach(({url:e,text:t,schema:r})=>{const a=n({schema:r,url:e,text:t});o=o.replace(t,a)})}return o}function a(e){const t=(new DOMParser).parseFromString(e,"text/html");return t.querySelectorAll("a").forEach(e=>{if((e.getAttribute("href")??"").includes("javascript")){const t=document.createTextNode(e.textContent||"");e.replaceWith(t)}else e.setAttribute("target","_blank"),e.setAttribute("rel","noreferrer nofollow")}),t.body.innerHTML}export{o as l,r as p,a as s};
