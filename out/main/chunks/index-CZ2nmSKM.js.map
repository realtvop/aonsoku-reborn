{"version":3,"file":"index-CZ2nmSKM.js","sources":["../../../node_modules/object-assign/index.js","../../../node_modules/cors/lib/index.js"],"sourcesContent":["/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","(function () {\n\n  'use strict';\n\n  var assign = require('object-assign');\n  var vary = require('vary');\n\n  var defaults = {\n    origin: '*',\n    methods: 'GET,HEAD,PUT,PATCH,POST,DELETE',\n    preflightContinue: false,\n    optionsSuccessStatus: 204\n  };\n\n  function isString(s) {\n    return typeof s === 'string' || s instanceof String;\n  }\n\n  function isOriginAllowed(origin, allowedOrigin) {\n    if (Array.isArray(allowedOrigin)) {\n      for (var i = 0; i < allowedOrigin.length; ++i) {\n        if (isOriginAllowed(origin, allowedOrigin[i])) {\n          return true;\n        }\n      }\n      return false;\n    } else if (isString(allowedOrigin)) {\n      return origin === allowedOrigin;\n    } else if (allowedOrigin instanceof RegExp) {\n      return allowedOrigin.test(origin);\n    } else {\n      return !!allowedOrigin;\n    }\n  }\n\n  function configureOrigin(options, req) {\n    var requestOrigin = req.headers.origin,\n      headers = [],\n      isAllowed;\n\n    if (!options.origin || options.origin === '*') {\n      // allow any origin\n      headers.push([{\n        key: 'Access-Control-Allow-Origin',\n        value: '*'\n      }]);\n    } else if (isString(options.origin)) {\n      // fixed origin\n      headers.push([{\n        key: 'Access-Control-Allow-Origin',\n        value: options.origin\n      }]);\n      headers.push([{\n        key: 'Vary',\n        value: 'Origin'\n      }]);\n    } else {\n      isAllowed = isOriginAllowed(requestOrigin, options.origin);\n      // reflect origin\n      headers.push([{\n        key: 'Access-Control-Allow-Origin',\n        value: isAllowed ? requestOrigin : false\n      }]);\n      headers.push([{\n        key: 'Vary',\n        value: 'Origin'\n      }]);\n    }\n\n    return headers;\n  }\n\n  function configureMethods(options) {\n    var methods = options.methods;\n    if (methods.join) {\n      methods = options.methods.join(','); // .methods is an array, so turn it into a string\n    }\n    return {\n      key: 'Access-Control-Allow-Methods',\n      value: methods\n    };\n  }\n\n  function configureCredentials(options) {\n    if (options.credentials === true) {\n      return {\n        key: 'Access-Control-Allow-Credentials',\n        value: 'true'\n      };\n    }\n    return null;\n  }\n\n  function configureAllowedHeaders(options, req) {\n    var allowedHeaders = options.allowedHeaders || options.headers;\n    var headers = [];\n\n    if (!allowedHeaders) {\n      allowedHeaders = req.headers['access-control-request-headers']; // .headers wasn't specified, so reflect the request headers\n      headers.push([{\n        key: 'Vary',\n        value: 'Access-Control-Request-Headers'\n      }]);\n    } else if (allowedHeaders.join) {\n      allowedHeaders = allowedHeaders.join(','); // .headers is an array, so turn it into a string\n    }\n    if (allowedHeaders && allowedHeaders.length) {\n      headers.push([{\n        key: 'Access-Control-Allow-Headers',\n        value: allowedHeaders\n      }]);\n    }\n\n    return headers;\n  }\n\n  function configureExposedHeaders(options) {\n    var headers = options.exposedHeaders;\n    if (!headers) {\n      return null;\n    } else if (headers.join) {\n      headers = headers.join(','); // .headers is an array, so turn it into a string\n    }\n    if (headers && headers.length) {\n      return {\n        key: 'Access-Control-Expose-Headers',\n        value: headers\n      };\n    }\n    return null;\n  }\n\n  function configureMaxAge(options) {\n    var maxAge = (typeof options.maxAge === 'number' || options.maxAge) && options.maxAge.toString()\n    if (maxAge && maxAge.length) {\n      return {\n        key: 'Access-Control-Max-Age',\n        value: maxAge\n      };\n    }\n    return null;\n  }\n\n  function applyHeaders(headers, res) {\n    for (var i = 0, n = headers.length; i < n; i++) {\n      var header = headers[i];\n      if (header) {\n        if (Array.isArray(header)) {\n          applyHeaders(header, res);\n        } else if (header.key === 'Vary' && header.value) {\n          vary(res, header.value);\n        } else if (header.value) {\n          res.setHeader(header.key, header.value);\n        }\n      }\n    }\n  }\n\n  function cors(options, req, res, next) {\n    var headers = [],\n      method = req.method && req.method.toUpperCase && req.method.toUpperCase();\n\n    if (method === 'OPTIONS') {\n      // preflight\n      headers.push(configureOrigin(options, req));\n      headers.push(configureCredentials(options, req));\n      headers.push(configureMethods(options, req));\n      headers.push(configureAllowedHeaders(options, req));\n      headers.push(configureMaxAge(options, req));\n      headers.push(configureExposedHeaders(options, req));\n      applyHeaders(headers, res);\n\n      if (options.preflightContinue) {\n        next();\n      } else {\n        // Safari (and potentially other browsers) need content-length 0,\n        //   for 204 or they just hang waiting for a body\n        res.statusCode = options.optionsSuccessStatus;\n        res.setHeader('Content-Length', '0');\n        res.end();\n      }\n    } else {\n      // actual response\n      headers.push(configureOrigin(options, req));\n      headers.push(configureCredentials(options, req));\n      headers.push(configureExposedHeaders(options, req));\n      applyHeaders(headers, res);\n      next();\n    }\n  }\n\n  function middlewareWrapper(o) {\n    // if options are static (either via defaults or custom options passed in), wrap in a function\n    var optionsCallback = null;\n    if (typeof o === 'function') {\n      optionsCallback = o;\n    } else {\n      optionsCallback = function (req, cb) {\n        cb(null, o);\n      };\n    }\n\n    return function corsMiddleware(req, res, next) {\n      optionsCallback(req, function (err, options) {\n        if (err) {\n          next(err);\n        } else {\n          var corsOptions = assign({}, defaults, options);\n          var originCallback = null;\n          if (corsOptions.origin && typeof corsOptions.origin === 'function') {\n            originCallback = corsOptions.origin;\n          } else if (corsOptions.origin) {\n            originCallback = function (origin, cb) {\n              cb(null, corsOptions.origin);\n            };\n          }\n\n          if (originCallback) {\n            originCallback(req.headers.origin, function (err2, origin) {\n              if (err2 || !origin) {\n                next(err2);\n              } else {\n                corsOptions.origin = origin;\n                cors(corsOptions, req, res, next);\n              }\n            });\n          } else {\n            next();\n          }\n        }\n      });\n    };\n  }\n\n  // can pass either an options hash, an options delegate, or nothing\n  module.exports = middlewareWrapper;\n\n}());\n"],"names":["getOwnPropertySymbols","Object","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","objectAssign","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","map","n","join","test3","split","forEach","letter","keys","err","shouldUseNative","target","source","from","symbols","to","val","TypeError","toObject","s","arguments","length","key","call","require$$0","vary","require$$1","defaults","origin","methods","preflightContinue","optionsSuccessStatus","isString","isOriginAllowed","allowedOrigin","Array","isArray","RegExp","test","configureOrigin","options","req","isAllowed","requestOrigin","headers","push","value","configureCredentials","credentials","configureExposedHeaders","exposedHeaders","applyHeaders","res","header","setHeader","libModule","exports","o","optionsCallback","cb","next","corsOptions","originCallback","err2","method","toUpperCase","configureMethods","allowedHeaders","configureAllowedHeaders","maxAge","toString","configureMaxAge","statusCode","end","cors"],"mappings":"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","x_google_ignoreList":[0,1]}